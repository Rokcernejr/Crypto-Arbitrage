#!/bin/bash
# backup.sh
BACKUP_DIR="/path/to/backups"
DATE=$(date +%Y%m%d_%H%M%S)

# Backup configuration and data
tar -czf "$BACKUP_DIR/arbitrage_backup_$DATE.tar.gz" \
    config/ \
    data/ \
    logs/

# Keep only last 7 days of backups
find "$BACKUP_DIR" -name "arbitrage_backup_*.tar.gz" -mtime +7 -delete

# Edit crontab
crontab -e

# Add daily backup at 3 AM
0 3 * * * /path/to/backup.sh

# Add log rotation
0 0 * * * pm2 flush
